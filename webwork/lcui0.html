<!DOCTYPE HTML>
<HTML>
<head>
<meta charset="UTF-8">
<style type="text/css">
</style>
</head>
<body>
<div id="candiv" style="position: absolute; top: 50px; left: 50px;">
<canvas id="canvas" width="500" height="500">
!supported
</canvas>
</div>
<script type = "text/javascript">
window.addEventListener('load', winloaded, false);
function winloaded(){
app();
}
function app(){
var canv = document.getElementById("canvas");
if(!canv || !canv.getContext){
return;
}
var ctx = canv.getContext("2d");
if(!ctx){
return;
}
var mouseX;
var mouseY;
var nuMouseY = 0;
var circle = {ctrX:0, ctrY: 250,radius: 100, angle: 0};
var ball1 = {x:0, y:0, speed: .02};
var ball2 ={x:0, y:0, speed: .02};
var ball3 ={x:0, y:0, speed: .02};
var ball4 ={x:0, y:0, speed: .02};
var ball5 ={x:0, y:0, speed: .02};
var degZeroX = circle.ctrX + circle.radius;
var degZeroY = circle.ctrY;
var holdMouse = false;
//canvas refresh rate starts here
function draw(){

function eClicked(event){
holdMouse = true;
console.log("hold mouse button " + holdMouse);
}
function eClacked(event){
holdMouse = false;
console.log("release mouse button " + holdMouse);
}
if(holdMouse == true){
canv.addEventListener('mousemove', eMouseMove, false);
function eMouseMove(event) {
        if (event.layerX || event.layerX == 0) {
            mouseX = event.layerX;
            mouseY = event.layerY;
        } else if (candiv.offsetX || candiv.offsetX == 0) {
            mouseX = event.offsetX;
            mouseY = event.offsetY;
        }
		
		if(mouseY < circle.ctrY && mouseY > circle.ctrY - circle.radius ){
		//need to compare new mouse position to old mouse position
		circle.angle += .0001060;
	ball1.speed= 0.000;
		}
		if(mouseY > circle.ctrY && mouseY < circle.ctrY + circle.radius){
		circle.angle -= .0000947;
		ball1.speed = 0.00;
		}	
}
}
ball1.x = circle.ctrX + Math.cos(circle.angle)* circle.radius; // 0 degrees x
ball1.y = circle.ctrY + Math.sin(circle.angle)* circle.radius; // 0 degrees y

ball2.x = circle.ctrX + Math.cos(circle.angle + .7854)* circle.radius; // 45 degree x
ball2.y = circle.ctrY + Math.sin(circle.angle + .7854)* circle.radius; //45 degree y

ball3.x = circle.ctrX + Math.cos(circle.angle + 1.5708)* circle.radius; // 90 degree X
ball3.y = circle.ctrY + Math.sin(circle.angle + 1.5708)* circle.radius; //90 degree Y

ball4.x = circle.ctrX + Math.cos(circle.angle + 4.71239)* circle.radius; // 270 degree x
ball4.y = circle.ctrY + Math.sin(circle.angle + 4.71239)* circle.radius; //270 degree Y

ball5.x = circle.ctrX + Math.cos(circle.angle + 5.49779)* circle.radius; //315 degree X
ball5.y = circle.ctrY + Math.sin(circle.angle + 5.49779)* circle.radius; //315 degree Y

ctx.fillStyle ='#eeeeee';
ctx.fillRect(0,0, canvas.width, canvas.height);
ctx.strokeStyle='#000000';
ctx.strokeRect(1,1,canvas.width - 2, canvas.height - 2);

//circle to test sin/cosin calculations
ctx.strokeStyle ="#2EEE09";
ctx.beginPath();
ctx.arc(degZeroX,degZeroY,15,0,Math.PI*2,true);
ctx.stroke();
ctx.closePath();

// nother circle test at 90 degrees
ctx.strokeStyle ="#2E5E99";
ctx.beginPath();
ctx.arc(circle.ctrX,circle.ctrY + 100,15,0,Math.PI*2,true);
ctx.stroke();
ctx.closePath();

ctx.strokeStyle ="#000000";
ctx.beginPath();
ctx.arc(circle.ctrX,circle.ctrY,circle.radius,0,Math.PI*2,true);
ctx.stroke();
ctx.closePath();

ctx.strokeStyle ="#000000";
ctx.beginPath();
ctx.arc(ball1.x,ball1.y,25,0,Math.PI*2,true);
ctx.stroke();
ctx.closePath();

ctx.strokeStyle ="#005678";
ctx.beginPath();
ctx.arc(ball2.x,ball2.y,25,0,Math.PI*2,true);
ctx.stroke();
ctx.closePath();

ctx.strokeStyle ="#e756e8";
ctx.beginPath();
ctx.arc(ball3.x,ball3.y,25,0,Math.PI*2,true);
ctx.stroke();
ctx.closePath();

ctx.strokeStyle ="#005678";
ctx.beginPath();
ctx.arc(ball4.x,ball4.y,25,0,Math.PI*2,true);
ctx.stroke();
ctx.closePath();

ctx.strokeStyle ="#000000";
ctx.beginPath();
ctx.arc(ball5.x,ball5.y,25,0,Math.PI*2,true);
ctx.stroke();
ctx.closePath();
// restore old state


if(ball4.x >= degZeroX - 1 && ball4.y >= degZeroY){
ball1.x = -1;
ball1.y = 350;
circle.angle = 1.58;
ball1.speed = 0.0;
}else if(ball3.x >= degZeroX - 1 && ball3.y >=degZeroY){
ball1.x = 0;
ball1.y = 150;
circle.angle = -1.58;
ball1.speed = 0.0;
}
canv.addEventListener('mousedown', eClicked, false);
canv.addEventListener('mouseup', eClacked, false);
}
const FRAME_RATE = 30;
var intervalTime = 1000/FRAME_RATE;
setInterval(draw, intervalTime);
}
</script>
</body>
</HTML>